<%- include('../layouts/main') %>

<div class="profile-container">
    <div class="profile-header rgb-border">
        <img src="<%= profile.avatar || '/images/default-avatar.png' %>" alt="Avatar" class="avatar">
        <div class="profile-info">
            <h1 class="neon-text"><%= profile.username %></h1>
            <p>На сайте с: <%= new Date(profile.created_at).toLocaleDateString() %></p>
            <% if (user && user.id === profile.id) { %>
                <a href="/profile/edit" class="edit-btn rgb-border">Редактировать профиль</a>
            <% } %>
        </div>
    </div>

    <div class="profile-posts">
        <% posts.forEach(post => { %>
            <div class="post-preview rgb-border">
                <h3><%= post.title %></h3>
                <p><%= post.content.substring(0, 100) %>...</p>
                <div class="post-meta">
                    <span><%= new Date(post.created_at).toLocaleDateString() %></span>
                    <span>❤ <%= post.likes %></span>
                </div>
                <a href="/posts/<%= post.id %>" class="read-more">Читать далее</a>
            </div>
        <% }) %>
    </div>
</div> 